# AppTest リポジトリの Copilot 指示

## 概要
このリポジトリには、FlaskベースのWebアプリ集（AppTest）があり、さまざまな独立したアプリモジュールが含まれています。プロジェクトは保守性、拡張性、レスポンシブデザインを重視しています。

## 一般的なガイドライン
- **使用言語**: チャットやコードのコメントなど、生成する文章は日本語を使用。
- **プログラミング言語**: 主にPython (Flask) をバックエンドに、HTML/CSS/JavaScript をフロントエンドアプリに使用。
- **アーキテクチャ**: Flask Blueprints を使用してモジュール構造を構築。各アプリモジュールを独立させる。
- **コードスタイル**: クリーンで読みやすいコードを書く。適切な関心の分離を行う。
- **コメント**: コードに付加するコメントは、初心者でもわかるように、平易な解説を行う。
- **バージョン管理**: コミットメッセージを日本語で、変更点を箇条書きで記述。
- **テスト**: コミット前にローカルで機能を確認。

## Flask バックエンドのルール
- 各アプリモジュール（例: stopwatch, board, qrcode, jsapps）ごとに Blueprints を使用。
- サーバーを軽量で高速に保つ。
- 同時アクセス用にマルチスレッドサーバーを有効化。
- ローカルテストには開発サーバーを使用するが、本番デプロイの考慮も記載。

## フロントエンド (HTML/CSS/JS) のルール
- **構造**: HTML、CSS、JS ファイルを明確に分離。
- **CSS**: 機能別モジュールに分割（例: base.css, layout.css, display.css, buttons.css, responsive.css）。
- **JavaScript**: ES6 モジュールを使用し、機能を分離:
  - `state.js`: 状態の一元管理（グローバル変数を避ける）。
  - `display.js`: 表示・入力処理。
  - `calculator.js`: 計算ロジック。
  - `memory.js`: メモリ機能。
  - `keyboard.js`: キーボード入力処理。
  - `init.js`: 初期化とイベントリスナー。
- **イベント**: 分離を良くするため、`addEventListener` をインライン `onclick` 属性より優先。
- **レスポンシブデザイン**: モバイルフレンドリーなレイアウトをメディアクエリで確保。
- **UI/UX**: 一貫したスタイリングを維持。視覚的な魅力のために絵文字を使用。

## 特定のアプリルール
- **電卓アプリ**:
  - 式で括弧をサポート。
  - メモリ機能を実装（MS, MR, M+, M-, MC）。
  - 演算子を日本語記号（×, ÷）で表示。
  - 式の検証とエラーハンドリングを適切に行う。
- **その他のアプリ**: 同様のモジュール構造とレスポンシブデザイン原則に従う。

## セキュリティとベストプラクティス
- インラインスクリプト/スタイルを避け、外部ファイルを使用。
- 必要に応じてユーザー入力をサニタイズ。
- JavaScript で strict mode を使用して安全な実行を確保。
- 依存関係を最小限に保ち、最新の状態に更新。

## コミットガイドライン
- コミットやプッシュはユーザーから指示があったときのみ行う。
- コミットメッセージを日本語で記述。
- フォーマット: 簡潔なタイトルに続けて変更点を箇条書き。
- 例:
  ```
  電卓アプリのJSリファクタリング・イベントリスナー化

  - main.jsの役割を分割し、state.js等の機能別モジュールを新規作成
  - index.htmlのonclick属性を全削除し、init.jsでaddEventListener方式に移行
  - コードの保守性・拡張性を大幅向上
  ```

## 追加の注意事項
- クイックフィックスより保守性・拡張性を優先。
- リポジトリにプッシュ前にローカルで変更をテスト。
- 新機能を追加する場合、既存のモジュール構造にうまく統合する。